<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout.html}">
<div layout:fragment="content">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="css/profile.css" rel="stylesheet" />
    <title>Profile</title>
  </head>
  <body>
  <div class="container mt-4 custom-container">
    <!-- Profile Header -->
    <div class="profile-header d-flex align-items-center mb-4">
      <img
              id="main-avatar"
              src="https://avatars.githubusercontent.com/u/152299575?v=4"
              class="rounded-circle me-4"
              alt="Avatar"
              width="100"
              height="100"
      />
      <div>
        <h3 id="main-name" class="mb-1"></h3>
        <h6 id="main-about" class="text-muted mb-0"></h6>
      </div>
    </div>
    <!-- Sub Navbar -->
    <ul class="nav nav-tabs" id="profileTabs" role="tablist">
      <li class="nav-item" role="presentation">
        <button
                class="nav-link active"
                id="timeline-tab"
                data-bs-toggle="tab"
                data-bs-target="#timeline"
                type="button"
                role="tab"
                aria-controls="timeline"
                aria-selected="true"
        >
          Bài viết
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button
                class="nav-link"
                id="friends-tab"
                data-bs-toggle="tab"
                data-bs-target="#friends"
                type="button"
                role="tab"
                aria-controls="friends"
                aria-selected="false"
        >
          Danh sách bạn
        </button>

      </li>
      <li class="nav-item" role="presentation">
        <button
                class="nav-link"
                id="info-tab"
                data-bs-toggle="tab"
                data-bs-target="#info"
                type="button"
                role="tab"
                aria-controls="info"
                aria-selected="false"
        >
          Thông tin cá nhân
        </button>
      </li>
    </ul>

    <div class="tab-content mt-4" id="profileTabsContent">
      <!-- Timeline Tab -->
      <div
              class="tab-pane fade show active"
              id="timeline"
              role="tabpanel"
              aria-labelledby="timeline-tab"
      >
        <div class="post-box mb-4">
          <div class="d-flex align-items-center">
            <img
                    id ="avatar-mini"
                    src=""
                    height="40px"
                    alt="User"
                    class="me-2"
            />
            <input
                    type="text"
                    class="form-control"
                    placeholder="Bạn đang nghĩ gì?"
                    data-bs-toggle="modal"
                    data-bs-target="#createPostModal"
            />
          </div>
        </div>
        <div class="post-container">
          <!-- Các bài đăng của người dùng sẽ được hiển thị ở đây -->
        </div>
      </div>

      <!-- Friends Tab -->
      <div
              class="tab-pane fade"
              id="friends"
              role="tabpanel"
              aria-labelledby="friends-tab"
      >
        <div class="card">
          <div class="card-header">
            <strong>Danh sách bạn bè</strong>
          </div>
          <div class="card-body">
            <div id="friendsList">
              <!-- Danh sách bạn bè sẽ được tải động vào đây -->
            </div>
          </div>
        </div>
      </div>


      <!-- Info Tab -->
      <div
              class="tab-pane fade"
              id="info"
              role="tabpanel"
              aria-labelledby="info-tab"
      >
        <div class="card">
          <div class="card-header">
            <strong>Thông tin cá nhân</strong>
          </div>
          <div class="card-body">
            <form id="userForm" enctype="multipart/form-data">
              <div class="mb-3">
                <!-- Avatar Upload -->
                <div class="avatar-container">
                  <div class="avatar-wrapper">
                    <img id="avatarImage" src="https://avatars.githubusercontent.com/u/152299575?v=4" alt="Avatar" class="avatar-img" />
                    <label for="avatar1" class="avatar-upload-btn">
                      <span class="plus-icon">+</span>
                    </label>
                    <input type="file" class="avatar-input" id="avatar1" accept="image/*" />
                  </div>
                </div>
              </div>
              <!-- Họ -->
              <div class="mb-3">
                <label for="firstname" class="form-label">Họ</label>
                <input type="text" class="form-control" id="firstname" placeholder="Họ" required />
              </div>
              <!-- Tên -->
              <div class="mb-3">
                <label for="lastname" class="form-label">Tên</label>
                <input type="text" class="form-control" id="lastname" placeholder="Tên" required />
              </div>
              <!-- Tiểu sử -->
              <div class="mb-3">
                <label for="about" class="form-label">Tiểu sử</label>
                <textarea class="form-control" id="about" placeholder="Tiểu sử"></textarea>
              </div>
              <!-- Ngày sinh -->
              <div class="mb-3">
                <label for="birthday" class="form-label">Ngày sinh</label>
                <input type="date" class="form-control" id="birthday" />
              </div>
              <!-- Giới tính -->
              <div class="mb-3">
                <label class="form-label">Giới tính</label>
                <div class="form-check form-check-inline">
                  <input type="radio" class="form-check-input" id="genderMale" name="gender" value="Male" />
                  <label class="form-check-label" for="genderMale">Nam</label>
                </div>
                <div class="form-check form-check-inline">
                  <input type="radio" class="form-check-input" id="genderFemale" name="gender" value="Female" />
                  <label class="form-check-label" for="genderFemale">Nữ</label>
                </div>
              </div>

              <!-- Nút lưu -->
              <button type="submit" class="btn btn-primary">Lưu thay đổi</button>
            </form>
          </div>

        </div>
      </div>
    </div>

    <!-- Post Example -->
    <div class="post-container">
      <!-- Posts will be injected here dynamically -->
    </div>
  </div>
  <!-- Create Post Modal -->
  <div
          class="modal fade"
          id="createPostModal"
          tabindex="-1"
          aria-labelledby="createPostModalLabel"
          aria-hidden="true"
  >
    <div class="modal-dialog custom-modal">
      <div class="modal-content mt-10">
        <div class="modal-header">
          <h5 class="modal-title" id="createPostModalLabel">Create Post</h5>
          <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="modal"
                  aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
            <textarea
                    class="form-control mb-3"
                    id="postContent"
                    rows="4"
                    placeholder="Bạn đang nghĩ gì?"
            ></textarea>

          <!-- Media upload container -->
          <div id="mediaUploadContainer" class="media-upload-container">
            <label for="postMedia" class="media-placeholder">
              <i class="bi bi-camera"></i>
              <span>Thêm ảnh/video</span>
            </label>
            <input
                    class="form-control d-none"
                    type="file"
                    id="postMedia"
                    accept="image/*,video/*"
                    multiple
            />
          </div>
        </div>
        <div class="modal-footer">
          <button
                  type="button"
                  class="btn btn-secondary"
                  data-bs-dismiss="modal"
          >
            Close
          </button>
          <button type="button" class="btn btn-primary" id="postSubmitBtn">
            Post
          </button>
        </div>
      </div>
    </div>
  </div>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="js/profile.js"></script>
  <script src="js/post.js"></script>
  </body>
</div>
</html>